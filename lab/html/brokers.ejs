<%- include title.ejs %>
Lab Server - Brokers
<%- include header.ejs %>
<h4>Service Brokers</h4>
<hr>
<div class="table-responsive" style="display:block;word-break:break-all; " id="wrapper-global-table">
	<table class="table table-hover">
		<thead>
			<tr>
				<th class="header headerSortUp" style="min-width:60px">Name</th>
				<th class="header">Identifier</th>
				<th class="header">Key</th>
				<th class="header" style="min-width:41px">
					<div align="center">
						<a href="edit_broker">
							<span class="glyphicon glyphicon-plus"></span>
						</a>
					</div>
				</th>
			</tr>
		</thead>
		<tbody id="wrappers-table">
		<%  
			var broker_settings = database.getKeys("brokers");
			for (var i=0; i < broker_settings.length; i++)
			{
				var setting = database.valueForKey("brokers", broker_settings[i]);
				var broker_name = setting['name'];
				var broker_guid = broker_settings[i];
				var broker_key  = setting['key'];
				var broker_edit = "edit_broker?id="+broker_guid;
				%>
				<tr>
					<td><%= broker_name %></td>
					<td><%= broker_guid %></td>
					<td><%= broker_key %></td>
					<td><a href="<%= broker_edit %>">Edit</a></td>
				</tr>
		  <%}%>
		</tbody>
	</table>
</div>

<!-- JavaScript -->
<script src="js/jquery-1.10.2.js"></script>
<script src="js/bootstrap.js"></script>		
<%- include footer.ejs %>